(this["webpackJsonpdistributed-systems"]=this["webpackJsonpdistributed-systems"]||[]).push([[0],{135:function(e,t,a){},136:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var s=a(4),i=a.n(s),n=a(36),c=a.n(n),d=(a(135),a(136),a(9)),l=a(16),o=a.n(l),r=(a(155),a(32)),b=a.n(r),j=a(56),h=(a(114),a(115),a(2));var u=function(e){var t=e.id,a=e.text,i=e.submitFunction,n={year:"numeric",month:"2-digit",day:"2-digit"},c=new Date(Date.now()),l=Object(s.useState)(c),o=Object(d.a)(l,2),r=o[0],j=o[1];return Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(h.jsx)("h1",{children:a}),Object(h.jsx)("span",{style:{display:"block-inline"},children:"Date "}),Object(h.jsx)(b.a,{selected:r,onChange:function(e){return j(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(h.jsx)("span",{children:"Covid cases"}),Object(h.jsx)("input",{type:"text",id:"cases"+t}),Object(h.jsx)("span",{children:"Covid admissions"}),Object(h.jsx)("input",{type:"text",id:"admissions"+t}),Object(h.jsx)("span",{children:"Covid deaths"}),Object(h.jsx)("input",{type:"text",id:"deaths"+t})," ",Object(h.jsx)("br",{}),Object(h.jsx)("button",{onClick:function(e){if(e.preventDefault(),r){var a={covidCases:document.getElementById("cases"+t).value,covidAdmissions:document.getElementById("admissions"+t).value,covidDeaths:document.getElementById("deaths"+t).value,date:r.toLocaleDateString("en-gb",n).replaceAll("/","-")};a.covidCases&&a.covidDeaths&&a.covidAdmissions?i(a):alert("Please put in all the data before submitting!")}else alert("Write in the date before submitting")},className:"btn",style:{background:"#90ee90"},children:" Submit"})]})};var m=function(){var e=Object(s.useState)(),t=Object(d.a)(e,2),a=t[0],i=t[1],n=Object(s.useState)(),c=Object(d.a)(n,2),l=c[0],r=c[1],m=Object(s.useState)(new Date(Date.now())),x=Object(d.a)(m,2),O=x[0],g=x[1],p={year:"numeric",month:"2-digit",day:"2-digit"},y=Object(s.useState)({covidAdmissions:0,covidCases:0,covidDeaths:0}),f=Object(d.a)(y,2),v=f[0],D=f[1],C=Object(s.useState)({covidAdmissions:0,covidCases:0,covidDeaths:0}),S=Object(d.a)(C,2),k=S[0],A=S[1],N=Object(s.useState)([1,2,3,4]),E=Object(d.a)(N,2),M=E[0],L=E[1],R=Object(s.useState)([1,2,3,4]),w=Object(d.a)(R,2),B=w[0],F=w[1],I=Object(s.useState)([1,2,3,4]),T=Object(d.a)(I,2),J=T[0],U=T[1],G=Object(s.useState)([]),P=Object(d.a)(G,2),W=P[0],Z=P[1],q={labels:W,datasets:[{label:"# of Covid-19 cases",data:M,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]},z={labels:W,datasets:[{label:"# of Covid-19 admissions",data:B,fill:!1,backgroundColor:"rgb(2, 99, 12)",borderColor:"rgba(2, 99, 13, 0.2)"}]},H={labels:W,datasets:[{label:"# of Covid-19 deaths",data:J,fill:!1,backgroundColor:"rgb(0, 12, 200)",borderColor:"rgba(0, 12, 200, 0.2)"}]},K={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},Q="/api";function V(e){console.log(e);var t=[],a=[],s=[],i=[];e.forEach((function(e){t.push(e.date),a.push(e.covidCases),s.push(e.covidAdmissions),i.push(e.covidDeaths)})),Z(t),L(a),F(s),U(i)}return Object(h.jsxs)("div",{className:"grid-container",children:[Object(h.jsxs)("div",{className:"grid-item grid-item-1",children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(h.jsx)("h1",{children:"Read data"}),Object(h.jsx)("span",{style:{display:"block-inline"},children:"Starting date "}),Object(h.jsx)(b.a,{selected:a,onChange:function(e){return i(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(h.jsx)("span",{style:{display:"block-inline"},children:"Ending date"}),Object(h.jsx)(b.a,{selected:l,onChange:function(e){return r(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"checkbox",id:"allData",value:"allData"}),Object(h.jsx)("label",{for:"allData",style:{paddingLeft:"10px"},children:"All data"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"checkbox",id:"mean"}),Object(h.jsx)("label",{for:"mean",style:{paddingLeft:"10px"},children:"Mean"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"checkbox",id:"median"}),Object(h.jsx)("label",{for:"median",style:{paddingLeft:"10px"},children:"Median"})]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{form:"login",onClick:function(e){e.preventDefault(),document.getElementById("allData").checked&&(a&&l?o.a.get(Q,{params:{startDate:a.toLocaleDateString("en-gb",p).replaceAll("/","-"),endDate:l.toLocaleDateString("en-gb",p).replaceAll("/","-")}}).then((function(e){console.log("hey?"),V(e.data)})):o.a.get(Q).then((function(e){console.log(e),V(e.data)}))),document.getElementById("mean").checked&&(a&&l?o.a.get("/api/mean",{params:{startDate:a.toLocaleDateString("en-gb",p).replaceAll("/","-"),endDate:l.toLocaleDateString("en-gb",p).replaceAll("/","-")}}).then((function(e){A(e.data)})):o.a.get("/api/mean").then((function(e){A(e.data)}))),document.getElementById("median").checked&&(a&&l?o.a.get("/api/median",{params:{startDate:a.toLocaleDateString("en-gb",p).replaceAll("/","-"),endDate:l.toLocaleDateString("en-gb",p).replaceAll("/","-")}}).then((function(e){D(e.data)})):o.a.get("/api/median").then((function(e){D(e.data)})))},className:"btn",style:{background:"#90ee90"},children:" Submit"})]}),Object(h.jsx)(u,{id:1,text:"Create data",submitFunction:function(e){o.a.post(Q,e).then((function(t){console.log(t),201==t.status&&alert("Entry created successfully at date: "+e.date)})).catch((function(t){401==t.status||403==t.status?alert("That command can only be used by admins!"):alert("An entry for date "+e.date+" already exists")}))}}),Object(h.jsx)(u,{id:2,text:"Update data",submitFunction:function(e){o.a.put("/api/"+e.date,e).then((function(t){console.log(t),200==t.status?alert("Entry update successfully for date: "+e.date):alert("Entry for date "+e.date+" did not exist. New entry added for date "+e.date)})).catch((function(t){401==t.status||403==t.status?alert("That command can only be used by admins!"):alert("Entry for date "+e.date+" does not exist")}))}}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingRight:"50px",marginRight:"50px",borderRight:"#000 solid"},children:[Object(h.jsx)("h1",{children:"Delete data"}),Object(h.jsx)("span",{style:{display:"block-inline"},children:"Date "}),Object(h.jsx)(b.a,{selected:O,onChange:function(e){return g(e)},name:"startDate",dateFormat:"dd/MM/yyyy",autoComplete:"off"}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{form:"login",onClick:function(){var e;e=(e=O).toLocaleDateString("en-gb",p).replaceAll("/","-"),o.a.delete("/api/"+e).then((function(t){alert("Entry for date "+e+" successfully deleted")})).catch((function(t){401==t.status||403==t.status?alert("That command can only be used by admins!"):alert("An entry for date "+e+" does not exist!")}))},className:"btn",style:{background:"#90ee90"},children:" Submit"})]}),Object(h.jsxs)("a",{href:"/logout",children:[" ",Object(h.jsx)("button",{children:"LOG OUT"})]})]}),Object(h.jsxs)("div",{className:"grid-item grid-item-3",children:[Object(h.jsxs)("div",{className:"grid-item median",children:[Object(h.jsx)("h1",{children:"Median:"}),Object(h.jsxs)("p",{children:["Covid admissions: ",Object(h.jsx)("b",{children:v.covidAdmissions})]}),Object(h.jsxs)("p",{children:["Covid cases: ",Object(h.jsx)("b",{children:v.covidCases})]}),Object(h.jsxs)("p",{children:["Covid deaths: ",Object(h.jsx)("b",{children:v.covidDeaths})]})]}),Object(h.jsxs)("div",{className:"grid-item mean",children:[Object(h.jsx)("h1",{children:"Mean:"}),Object(h.jsxs)("p",{children:["Covid admissions: ",Object(h.jsx)("b",{children:k.covidAdmissions})]}),Object(h.jsxs)("p",{children:["Covid cases: ",Object(h.jsx)("b",{children:k.covidCases})]}),Object(h.jsxs)("p",{children:["Covid deaths: ",Object(h.jsx)("b",{children:k.covidDeaths})]})]})]}),Object(h.jsxs)("div",{className:"grid-item grid-item-2 cases",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("h4",{className:"title",children:"Covid Cases"})}),Object(h.jsx)(j.a,{data:q,options:K})]}),Object(h.jsxs)("div",{className:"grid-item grid-item-2 admissions",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("h4",{className:"title",children:"Covid Admissions"})}),Object(h.jsx)(j.a,{data:z,options:K})]}),Object(h.jsxs)("div",{className:"grid-item grid-item-2 deaths",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("h4",{className:"title",children:"Covid Deaths"})}),Object(h.jsx)(j.a,{data:H,options:K})]})]})};var x=function(){return Object(h.jsx)(m,{children:" "})};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[330,1,2]]]);
//# sourceMappingURL=main.b92d75bf.chunk.js.map